# GraphRAG 量化評估標準

## 📊 **評估指標體系**

本文件定義了用於評估 GraphRAG 系統效能的量化指標，涵蓋網路結構分析、推理能力評估和實際應用效能三個維度。

---

## 🔍 **網路結構分析指標**

### 1. **網路密度 (Network Density)**

**定義：** 網路中實際存在的連結數與可能存在的最大連結數之比

**計算公式：**
```
密度 = (實際連結數) / (n × (n-1) / 2)
其中 n 為網路中節點總數
```

**評估標準：**
- **高密度 (> 0.3)：** 緊密連結的網路，適合測試複雜推理
- **中密度 (0.1-0.3)：** 中等複雜度，適合一般測試
- **低密度 (< 0.1)：** 稀疏連結，適合基礎測試

**應用場景：** 評估測試數據的複雜度和挑戰性

### 2. **平均路徑長度 (Average Path Length)**

**定義：** 網路中所有節點對之間最短路徑的平均長度

**計算方法：**
1. 計算所有節點對之間的最短路徑
2. 取所有有效路徑長度的平均值

**評估標準：**
- **長路徑 (> 4)：** 需要多跳推理的複雜問題
- **中路徑 (2-4)：** 適中複雜度問題
- **短路徑 (< 2)：** 簡單直接關聯問題

**應用場景：** 評估問題的推理深度和複雜度

### 3. **節點中心度 (Node Centrality)**

#### **度數中心度 (Degree Centrality)**
**定義：** 節點的直接連結數量
**計算：** `CD(i) = 與節點 i 直接連結的節點數`

#### **中介中心度 (Betweenness Centrality)**
**定義：** 節點在其他節點對最短路徑中出現的頻率
**計算：** `CB(i) = Σ(σst(i) / σst)`，其中 σst 為 s 到 t 的最短路徑數，σst(i) 為經過 i 的路徑數

#### **接近中心度 (Closeness Centrality)**
**定義：** 節點到所有其他節點的平均距離的倒數
**計算：** `CC(i) = (n-1) / Σd(i,j)`，其中 d(i,j) 為 i 到 j 的距離

**評估標準：**
- **高中心度 (> 0.6)：** 關鍵樞紐節點
- **中中心度 (0.3-0.6)：** 重要節點
- **低中心度 (< 0.3)：** 一般節點

**應用場景：** 識別網路中的關鍵實體和影響力節點

### 4. **聚集係數 (Clustering Coefficient)**

**定義：** 節點的鄰居節點之間實際連結數與可能連結數之比

**計算公式：**
```
CC(i) = (2 × ei) / (ki × (ki - 1))
其中 ei 為節點 i 的鄰居間連結數，ki 為節點 i 的度數
```

**評估標準：**
- **高聚集 (> 0.5)：** 強社群結構
- **中聚集 (0.2-0.5)：** 中等社群化
- **低聚集 (< 0.2)：** 弱社群結構

**應用場景：** 評估網路的社群化程度和區塊結構

### 5. **連通性 (Connectivity)**

**定義：** 網路的整體連通程度和魯棒性

**評估維度：**
- **連通分量數：** 網路中獨立連通子網的數量
- **最小割集大小：** 使網路不連通所需移除的最小節點數
- **直徑：** 網路中最長的最短路徑長度

**評估標準：**
- **高連通性：** 單一連通分量，最小割集 > 3
- **中連通性：** 少量連通分量，最小割集 = 2-3
- **低連通性：** 多個連通分量，最小割集 = 1

---

## 🧠 **推理能力評估指標**

### 6. **多跳推理成功率 (Multi-hop Reasoning Success Rate)**

**定義：** 系統在需要多步推理問題上的正確率

**計算方法：**
```
成功率 = (正確回答的多跳問題數) / (總多跳問題數)
```

**分級評估：**
- **2跳推理：** 基礎間接關聯
- **3-4跳推理：** 中等複雜度推理
- **5+跳推理：** 高複雜度推理

**評估標準：**
- **優秀 (> 85%)：** 強大的推理能力
- **良好 (70-85%)：** 可用的推理能力
- **一般 (50-70%)：** 基礎推理能力
- **不足 (< 50%)：** 需要改進

### 7. **隱藏關係發現率 (Hidden Relation Discovery Rate)**

**定義：** 系統發現非直觀、隱藏關係的能力

**計算方法：**
```
發現率 = (發現的隱藏關係數) / (總隱藏關係數)
```

**關係類型：**
- **間接影響：** A → B → C 的傳播關係
- **跨域橋接：** 不同領域間的關聯
- **時間延遲：** 時序上的因果關係

**評估標準：**
- **優秀 (> 80%)：** 出色的隱藏關係發現能力
- **良好 (60-80%)：** 良好的發現能力
- **一般 (40-60%)：** 基礎發現能力
- **不足 (< 40%)：** 發現能力有限

### 8. **網路覆蓋完整性 (Network Coverage Completeness)**

**定義：** 系統答案對目標網路的覆蓋程度

**計算維度：**
- **節點覆蓋率：** 正確識別的關鍵節點比例
- **關係覆蓋率：** 正確識別的關聯關係比例
- **路徑覆蓋率：** 正確發現的路徑比例

**計算公式：**
```
覆蓋率 = (正確識別的元素數) / (總應識別的元素數)
```

**評估標準：**
- **優秀 (> 90%)：** 完整的網路覆蓋
- **良好 (75-90%)：** 較完整的覆蓋
- **一般 (60-75%)：** 基本覆蓋
- **不足 (< 60%)：** 覆蓋不完整

---

## ⚡ **實際應用效能指標**

### 9. **查詢響應時間 (Query Response Time)**

**定義：** 從提交查詢到獲得答案的總時間

**計算方法：**
```
響應時間 = 答案生成時間 - 查詢提交時間
```

**評估標準：**
- **快速 (< 5秒)：** 適合即時應用
- **中等 (5-15秒)：** 可接受的響應速度
- **緩慢 (15-30秒)：** 較慢但可用
- **很慢 (> 30秒)：** 響應過慢

### 10. **計算資源消耗 (Computational Resource Consumption)**

**評估維度：**
- **記憶體使用：** 查詢過程中的峰值記憶體使用量
- **CPU使用率：** 查詢處理的CPU使用率
- **GPU使用率：** （如果適用）GPU加速使用率
- **網路I/O：** 數據傳輸和API調用開銷

**評估標準：**
- **低消耗：** 資源使用在預期範圍內
- **中等消耗：** 資源使用可接受
- **高消耗：** 資源使用過高，需要優化

### 11. **成本效益比 (Cost-Effectiveness Ratio)**

**定義：** 系統效能與運營成本的比值

**計算公式：**
```
成本效益比 = (綜合效能分數) / (運營成本)
綜合效能分數 = 0.4 × 準確率 + 0.3 × 完整性 + 0.2 × 速度 + 0.1 × 資源效率
```

**評估標準：**
- **高效益 (> 0.8)：** 成本效益很高
- **中等效益 (0.5-0.8)：** 成本效益可接受
- **低效益 (< 0.5)：** 成本效益需要改善

---

## 📋 **綜合評估框架**

### 12. **整體效能指數 (Overall Performance Index)**

**計算公式：**
```
OPI = 0.3 × 推理能力 + 0.25 × 網路分析 + 0.25 × 實用性 + 0.2 × 效率
```

**等級標準：**
- **A級 (90-100)：** 優秀系統
- **B級 (80-89)：** 良好系統
- **C級 (70-79)：** 一般系統
- **D級 (60-69)：** 基礎系統
- **F級 (< 60)：** 需要重大改進

### 13. **場景適配性評估 (Scenario Adaptability Assessment)**

**評估維度：**
- **複雜網路分析：** 處理複雜關係網路的能力
- **即時查詢響應：** 適合即時應用的程度
- **大規模部署：** 支援大規模應用的能力
- **成本敏感場景：** 在預算限制下的表現

**評估矩陣：**
```
| 應用場景       | 推薦系統    | 適配分數 | 主要考量因素               |
|----------------|-------------|----------|--------------------------|
| 複雜研究分析   | GraphRAG    | 9/10     | 推理深度、網路覆蓋         |
| 即時客服系統   | 傳統RAG     | 8/10     | 響應速度、成本效益         |
| 商業智慧分析   | GraphRAG    | 8/10     | 關係發現、隱藏模式識別     |
| 大規模搜索     | 傳統RAG     | 9/10     | 擴展性、成本控制           |
```

---

**文檔版本：** v1.0
**創建日期：** 2025-09-16
**最後更新：** 2025-09-16
**適用系統：** GraphRAG vs 傳統 RAG 評測平台